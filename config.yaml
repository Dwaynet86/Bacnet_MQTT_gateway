# BACnet Configuration
bacnet:
  device_id: 999999  # Our gateway's BACnet device ID
  device_name: "BACnet-MQTT Gateway"
  ip_address: "0.0.0.0"  # Listen on all interfaces (auto-detect), or specify IP
  netmask: "255.255.255.0"  # Network mask for broadcast (only used if ip_address is not 0.0.0.0)
  port: 47808  # Standard BACnet port
  network_number: 0
  max_apdu_length: 1476
  segmentation_supported: "segmented-both"
  vendor_id: 15
  
  # BBMD Configuration (for cross-subnet communication)
  bbmd:
    enabled: false  # Set to true to enable BBMD
    address: "10.0.1.1"  # IP address of the BBMD server
    port: 47808  # BBMD port (usually 47808)
    ttl: 30  # Time-to-live for registration in seconds (0 = permanent until unregister)
    
  # Foreign Device Registration (alternative to BBMD for some setups)
  # If your BACnet devices are on a different subnet, enable BBMD above

# Discovery Settings
discovery:
  auto_discover: true
  discovery_interval: 300  # seconds
  who_is_timeout: 5  # seconds

# Polling Configuration
polling:
  enabled: true
  default_interval: 60  # seconds
  properties:
    - present-value
    - status-flags
    - reliability
  
# MQTT Configuration
mqtt:
  broker: "localhost"  # Change to your MQTT broker address (e.g., "test.mosquitto.org" for testing)
  port: 1883
  username: ""  # Leave empty if no authentication required
  password: ""
  client_id: "bacnet_gateway"
  keepalive: 60
  qos: 1
  retain: true
  
  # Topic structure
  topic_prefix: "bacnet"
  # Format: {prefix}/{device_id}/{object_type}/{object_instance}/{property}
  
  # Connection settings
  reconnect_delay: 5
  max_reconnect_delay: 300
  
  # Note: If you don't have an MQTT broker running, you can:
  # 1. Install Mosquitto: sudo apt-get install mosquitto mosquitto-clients
  # 2. Or use a public test broker: broker: "test.mosquitto.org"
  # The gateway will continue to work without MQTT if the connection fails

# Device Management
devices:
  persistence_file: "devices.json"
  auto_save: true
  
# API Configuration
api:
  enabled: true
  host: "0.0.0.0"
  port: 8080

# Logging
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  file: "bacnet_gateway.log"
  console: true
  max_bytes: 10485760  # 10MB
  backup_count: 5
